#!/usr/bin/with-contenv bash

if [[ $# -eq 0 ]]; then
    echo "Usage: immich [upload|reset-admin-password|enable-password-login|disable-password-login|list-users]"
    exit 1
fi

case $1 in
upload)
    /usr/bin/immich "$@"
    ;;
reset-admin-password | enable-password-login | disable-password-login | list-users)
    /usr/local/bin/immich "$@"
    ;;
help)
    shift
    case $1 in
    upload)
        /usr/bin/immich help
        ;;
    admin)
        /usr/local/bin/immich help
        ;;
    *)
        echo "Invalid command for help. Available commands are: admin, upload"
        exit 1
        ;;
    esac
    ;;
*)
    echo "Invalid command. Please refer to the help: immich help [admin|upload]"
    exit 1
    ;;
esac
